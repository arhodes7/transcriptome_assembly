includeConfig "$baseDir/params.config"

process {
  queue = 'long-sl7,short-sl7,biocore-el7'
  memory='12G'
  container = 'biocorecrg/trinity_assembly:0.5'
  withLabel: big_mem_cpus {
        cpus = 8
        memory = '100G'
        time = '600h'
  }
  withLabel: increase_mem {
       errorStrategy = 'retry'
       memory = {10.GB * task.attempt}
       cpus = 1
       time = '6h'
       maxRetries = { task.exitStatus == 140 ? 4 : 1 }
  }	
}

singularity.enabled = true
singularity.cacheDir = "$baseDir/../singularity"
